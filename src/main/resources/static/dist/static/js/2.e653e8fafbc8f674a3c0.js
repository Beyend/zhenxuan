webpackJsonp([2],{BBeP:function(t,a){},"b5/6":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o={name:"orderInfo",data:function(){return{show:!1,address:[],actions:[],orderInfo:[],orderId:this.$route.query.data.orderid,userId:localStorage.getItem("userId")}},mounted:function(){this.getOrderInfo(),this.getAddress()},methods:{tel:function(t){dsBridge.call("dialingTel",t)},submitReturn:function(){var t=this,a={orderid:this.orderInfo.orderid},o=s("mw3O");t.$ajax.post("order/returnOrder",o.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){"200"==a.data.meta.code?(t.$toast({message:"退款申请成功,请等待审核!",position:"bottom"}),t.$router.back(-1)):t.$toast({message:a.data.meta.msg,position:"bottom"})}).catch(function(t){})},returnOrder:function(){var t=this;this.$dialog.confirm({title:"退款",message:"请确认您是否选择退款?"}).then(function(){t.submitReturn()}).catch(function(){})},toComment:function(){this.$router.push({path:"comment",query:{data:this.orderInfo}})},getAddress:function(){var t=this,a={userid:this.userId},o=s("mw3O");t.$ajax.post("address/getaddressList",o.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){if("200"==a.data.meta.code){for(var s=0;s<a.data.data.length;s++)a.data.data[s].id=a.data.data[s].username,a.data.data[s].name=a.data.data[s].area+a.data.data[s].detailaddress;t.actions=a.data.data,t.address=a.data.data[0]}}).catch(function(t){})},getOrderInfo:function(){var t=this,a={userid:t.userId,orderid:t.orderId},o=s("mw3O");t.$ajax.post("order/getOrderinfo",o.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){"200"==a.data.meta.code&&(t.orderInfo=a.data.data)}).catch(function(t){})},onSelect:function(t){this.show=!1,this.address=t}}},e={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"orderInfo"}},[s("div",{staticClass:"header"},[s("div",{staticClass:"van-hairline--bottom van-nav-bar"},[s("div",{staticClass:"van-nav-bar__left"},[s("i",{staticClass:"van-icon van-icon-arrow van-nav-bar__arrow",staticStyle:{color:"#000000 !important"},on:{click:function(a){t.$router.back(-1)}}})]),t._v(" "),s("div",{staticClass:"van-ellipsis van-nav-bar__title"},[t._v("订单详情")]),t._v(" "),s("div",{staticClass:"van-nav-bar__right"},[s("a",{on:{click:function(a){t.tel(t.orderInfo.shop.tel)}}},[s("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:"static/img/icon_kf_dfhxq@2x.png",width:"20px"}})])])])]),t._v(" "),s("div",{staticClass:"login_box"},[s("div",{staticClass:"background_color_ffffff",staticStyle:{margin:"5px 0",padding:"10px"}},[t._m(0),t._v(" "),s("div",{staticClass:"font_12",staticStyle:{display:"inline-block"}},[s("span",[t._v(t._s(t.address.username)),s("span",{staticClass:"color_8b8b8b"},[t._v("    "+t._s(t.address.telephone))])]),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"color_8b8b8b"},[t._v(t._s(t.address.area)+" "+t._s(t.address.detailaddress))])])]),t._v(" "),s("div",{staticClass:"background_color_ffffff",staticStyle:{margin:"5px 0"}},[s("div",{staticClass:"background_color_ffffff",staticStyle:{padding:"10px"}},[s("div",[s("img",{staticStyle:{"vertical-align":"bottom",height:"16px"},attrs:{src:t.orderInfo.shop.shoplogo}}),t._v(" "),s("span",{staticClass:"font_14"},[t._v(t._s(t.orderInfo.shop.shopname))]),t._v(" "),s("span",{staticClass:"float_right font_12 color_8b8b8b",staticStyle:{"margin-top":"1px"}},[t._v("订单编号:"+t._s(t.orderInfo.orderid))])]),t._v(" "),s("van-card",{staticStyle:{"margin-top":"0"}},[s("div",{attrs:{slot:"thumb"},slot:"thumb"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.orderInfo.goods.goodslogo.split(",")[0],expression:"orderInfo.goods.goodslogo.split(',')[0]"}],staticStyle:{display:"block",height:"63px"},attrs:{src:t.orderInfo.goods.goodslogo.split(",")[0],width:"100%"}})]),t._v(" "),s("div",{staticClass:"font_12 padding_bottom_5",attrs:{slot:"tags"},slot:"tags"},[t._v("\n              "+t._s(t.orderInfo.goods.goodsname)+"\n            ")]),t._v(" "),s("div",{staticClass:"font_12 color_8b8b8b padding_bottom_5",staticStyle:{height:"42px",overflow:"auto"},attrs:{slot:"tags"},slot:"tags"},[t._v("\n              "+t._s(t.orderInfo.goods.introduce)+"\n            ")])]),t._v(" "),s("div",{staticClass:"font_12",staticStyle:{padding:"5px 0"}},[s("span",[t._v("付款时间")]),t._v(" "),s("span",{staticClass:"float_right"},[t._v(t._s(t.orderInfo.paytime))])]),t._v(" "),s("div",{staticClass:"font_12 text_right",staticStyle:{padding:"5px 0"}},[t._v("\n            共"+t._s(t.orderInfo.goods.num)+"件商品,合计"),s("span",{staticClass:"color_ff3312"},[t._v("¥"+t._s(t.orderInfo.totalmoney))])]),t._v(" "),s("div",{staticClass:"text_right font_12 color_8b8b8b",staticStyle:{padding:"5px 0"}},[s("span",[t._v("订单状态:")]),t._v(" "),0==t.orderInfo.status?s("span",[t._v("待付款")]):1==t.orderInfo.status?s("span",[t._v("已付款/待发货")]):2==t.orderInfo.status?s("span",[t._v("已发货/待收货")]):3==t.orderInfo.status?s("span",[t._v("待评价")]):4==t.orderInfo.status?s("span",[t._v("完成")]):5==t.orderInfo.status?s("span",[t._v("已退款")]):t._e()]),t._v(" "),s("div",{staticClass:"text_right",staticStyle:{padding:"5px 0"}},[1==t.orderInfo.status?s("button",{staticClass:"font_12 color_8b8b8b backMoney",on:{click:t.returnOrder}},[t._v("退款")]):t._e(),t._v(" "),1==t.orderInfo.status&&0==t.orderInfo.returntype?s("button",{staticClass:"font_12 color_8b8b8b backMoney"},[t._v("退款审核中")]):t._e(),t._v(" "),1==t.orderInfo.status&&1==t.orderInfo.returntype?s("button",{staticClass:"font_12 color_8b8b8b backMoney"},[t._v("退款成功")]):t._e(),t._v(" "),1==t.orderInfo.status&&2==t.orderInfo.returntype?s("button",{staticClass:"font_12 color_8b8b8b backMoney"},[t._v("退款拒绝")]):t._e(),t._v(" "),3==t.orderInfo.status?s("button",{staticClass:"font_12 color_40a3f3 comment",on:{click:t.toComment}},[t._v("评价")]):t._e()])],1)])]),t._v(" "),s("van-actionsheet",{attrs:{actions:t.actions},on:{select:t.onSelect},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("img",{staticStyle:{"margin-right":"10px"},attrs:{src:"static/img/icon_sjr_dfxxq@2x.png",width:"16px"}})])}]};var n=s("VU/8")(o,e,!1,function(t){s("BBeP"),s("xWFB")},"data-v-8ca6bad6",null);a.default=n.exports},xWFB:function(t,a){}});
//# sourceMappingURL=2.e653e8fafbc8f674a3c0.js.map