webpackJsonp([9],{R7Pr:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={name:"order",data:function(){return{userId:localStorage.getItem("userId"),active:0,orderList:[]}},mounted:function(){this.getOrderList(0)},methods:{cancleOrder:function(t){var s=this,a={orderid:t.orderid},i=o("mw3O");s.$ajax.post("order/cancleOrder",i.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(o){if("200"==o.data.meta.code){s.$toast({message:"取消订单成功!",position:"bottom"});for(var a=[],i=0;i<s.orderList.length;i++)t.orderid!=s.orderList[i].orderid&&a.push(s.orderList[i]);s.orderList=a}else s.$toast({message:o.data.meta.msg,position:"bottom"})}).catch(function(t){})},returnOrder:function(t,s){var o=this;this.$dialog.confirm({title:"退款",message:"请确认您是否选择退款?"}).then(function(){o.submitReturn(t,s)}).catch(function(){})},submitReturn:function(t,s){var a=this,i={orderid:t.orderid},e=o("mw3O");a.$ajax.post("order/returnOrder",e.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){"200"==t.data.meta.code?(a.$toast({message:"退款申请成功,请等待审核!",position:"bottom"}),a.orderList[s].returntype=0,a.active=4,a.aaa()):a.$toast({message:t.data.meta.msg,position:"bottom"})}).catch(function(t){})},toOrderCheck:function(t){this.$store.commit("setOrderCheck",t),this.$router.push("orderCheck")},toComment:function(t){this.$router.push({path:"comment",query:{data:t}})},toOrderInfo:function(t){this.$router.push({path:"orderInfo",query:{data:t}})},aaa:function(){this.getOrderList(this.active)},orderSubmit:function(t){var s=this,a={userid:s.userId,orderid:t.orderid},i=o("mw3O");s.$ajax.post("order/sureorder",i.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){"200"==t.data.meta.code?(s.$toast({message:"确认收货成功!",position:"bottom"}),s.getOrderList(2)):s.$toast({message:t.data.meta.msg,position:"bottom"})}).catch(function(t){})},getOrderList:function(t){"4"==t&&(t="");var s=this,a={userid:s.userId,status:t},i=o("mw3O");s.$ajax.post("order/getorderlist",i.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){"200"==t.data.meta.code&&(s.orderList=t.data.data)}).catch(function(t){})}}},i={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{attrs:{id:"order"}},[t._m(0),t._v(" "),o("div",{staticClass:"login_box"},[o("van-tabs",{on:{change:t.aaa},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},[o("van-tab",{attrs:{title:"待付款"}},t._l(t.orderList,function(s,a){return t.orderList?o("div",{staticClass:"background_color_ffffff",staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)",margin:"10px",padding:"10px","border-radius":"5px"}},[o("div",[o("img",{staticStyle:{"vertical-align":"sub",height:"20px"},attrs:{src:s.shop.shoplogo}}),t._v(" "),o("span",{staticClass:"font_14"},[t._v(t._s(s.shop.shopname))])]),t._v(" "),o("van-card",{staticStyle:{"margin-top":"0"}},[o("div",{attrs:{slot:"thumb"},slot:"thumb"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goods.goodslogo.split(",")[0].split(",")[0],expression:"item.goods.goodslogo.split(',')[0].split(',')[0]"}],staticStyle:{display:"block",height:"63px"},attrs:{src:s.goods.goodslogo.split(",")[0].split(",")[0],width:"100%"}})]),t._v(" "),o("div",{staticClass:"font_12 padding_bottom_5",attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.goodsname)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b padding_bottom_5",staticStyle:{height:"18px",overflow:"auto"},attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.introduce)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b",staticStyle:{"padding-top":"12px"},attrs:{slot:"tags"},slot:"tags"},[o("span",[t._v("￥"+t._s(s.goods.price))])])]),t._v(" "),o("div",{staticClass:"font_12 text_right"},[t._v("\n              共"+t._s(s.num)+"件商品,合计:\n              "),o("span",{staticClass:"font_14",staticStyle:{color:"#c10804"}},[t._v("¥"+t._s(s.totalmoney))])]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b"},[t._v("\n              订单编号:"+t._s(s.orderid)+"\n            ")]),t._v(" "),o("div",{staticClass:"text_right font_12"},[o("button",{staticClass:"seeOrder",on:{click:function(o){t.cancleOrder(s)}}},[t._v("取消订单")]),t._v(" "),o("button",{staticClass:"payment",on:{click:function(o){t.toOrderCheck(s)}}},[t._v("立即付款")])])],1):t._e()})),t._v(" "),o("van-tab",{attrs:{title:"待发货"}},t._l(t.orderList,function(s,a){return t.orderList?o("div",{key:a,staticClass:"background_color_ffffff",staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)",margin:"10px",padding:"10px","border-radius":"5px"}},[o("div",[o("img",{staticStyle:{"vertical-align":"sub",height:"20px"},attrs:{src:s.shop.shoplogo}}),t._v(" "),o("span",{staticClass:"font_14"},[t._v(t._s(s.shop.shopname))])]),t._v(" "),o("van-card",{staticStyle:{"margin-top":"0"}},[o("div",{attrs:{slot:"thumb"},slot:"thumb"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goods.goodslogo.split(",")[0],expression:"item.goods.goodslogo.split(',')[0]"}],staticStyle:{display:"block",height:"63px"},attrs:{src:s.goods.goodslogo.split(",")[0],width:"100%"}})]),t._v(" "),o("div",{staticClass:"font_12 padding_bottom_5",attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.goodsname)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b padding_bottom_5",staticStyle:{height:"18px",overflow:"auto"},attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.introduce)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b",staticStyle:{"padding-top":"12px"},attrs:{slot:"tags"},slot:"tags"},[o("span",[t._v("￥"+t._s(s.goods.price))])])]),t._v(" "),o("div",{staticClass:"font_12 text_right"},[t._v("\n              共"+t._s(s.num)+"件商品,合计:\n              "),o("span",{staticClass:"font_14",staticStyle:{color:"#c10804"}},[t._v("¥"+t._s(s.totalmoney))])]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b"},[t._v("\n              订单编号:"+t._s(s.orderid)+"\n            ")]),t._v(" "),o("div",{staticClass:"text_right font_12"},[0==s.returntype?o("button",{staticClass:"seeOrder"},[t._v("退款审核中")]):t._e(),t._v(" "),1==s.returntype?o("button",{staticClass:"seeOrder"},[t._v("退款成功")]):t._e(),t._v(" "),2==s.returntype?o("button",{staticClass:"seeOrder"},[t._v("退款拒绝")]):o("button",{staticClass:"seeOrder",on:{click:function(o){t.returnOrder(s,a)}}},[t._v("我要退款")]),t._v(" "),o("button",{staticClass:"seeOrder",on:{click:function(o){t.toOrderInfo(s)}}},[t._v("查看订单")])])],1):t._e()})),t._v(" "),o("van-tab",{attrs:{title:"待收货"}},t._l(t.orderList,function(s,a){return t.orderList?o("div",{staticClass:"background_color_ffffff",staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)",margin:"10px",padding:"10px","border-radius":"5px"}},[o("div",[o("img",{staticStyle:{"vertical-align":"sub",height:"20px"},attrs:{src:s.shop.shoplogo}}),t._v(" "),o("span",{staticClass:"font_14"},[t._v(t._s(s.shop.shopname))])]),t._v(" "),o("van-card",{staticStyle:{"margin-top":"0"}},[o("div",{attrs:{slot:"thumb"},slot:"thumb"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goods.goodslogo.split(",")[0],expression:"item.goods.goodslogo.split(',')[0]"}],staticStyle:{display:"block",height:"63px"},attrs:{src:s.goods.goodslogo.split(",")[0],width:"100%"}})]),t._v(" "),o("div",{staticClass:"font_12 padding_bottom_5",attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.goodsname)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b padding_bottom_5",staticStyle:{height:"18px",overflow:"auto"},attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.introduce)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b",staticStyle:{"padding-top":"12px"},attrs:{slot:"tags"},slot:"tags"},[o("span",[t._v("￥"+t._s(s.goods.price))])])]),t._v(" "),o("div",{staticClass:"font_12 text_right"},[t._v("\n              共"+t._s(s.num)+"件商品,合计:\n              "),o("span",{staticClass:"font_14",staticStyle:{color:"#c10804"}},[t._v("¥"+t._s(s.totalmoney))])]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b"},[t._v("\n              订单编号:"+t._s(s.orderid)+"\n            ")]),t._v(" "),o("div",{staticClass:"text_right font_12"},[o("button",{staticClass:"payment",on:{click:function(o){t.orderSubmit(s)}}},[t._v("确认收货")])])],1):t._e()})),t._v(" "),o("van-tab",{attrs:{title:"待评价"}},t._l(t.orderList,function(s,a){return t.orderList?o("div",{staticClass:"background_color_ffffff",staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)",margin:"10px",padding:"10px","border-radius":"5px"}},[o("div",[o("img",{staticStyle:{"vertical-align":"sub",height:"20px"},attrs:{src:s.shop.shoplogo}}),t._v(" "),o("span",{staticClass:"font_14"},[t._v(t._s(s.shop.shopname))])]),t._v(" "),o("van-card",{staticStyle:{"margin-top":"0"}},[o("div",{attrs:{slot:"thumb"},slot:"thumb"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goods.goodslogo.split(",")[0],expression:"item.goods.goodslogo.split(',')[0]"}],staticStyle:{display:"block",height:"63px"},attrs:{src:s.goods.goodslogo.split(",")[0],width:"100%"}})]),t._v(" "),o("div",{staticClass:"font_12 padding_bottom_5",attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.goodsname)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b padding_bottom_5",attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.introduce)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b",staticStyle:{"padding-top":"20px"},attrs:{slot:"tags"},slot:"tags"},[o("span",[t._v("￥"+t._s(s.goods.price))])])]),t._v(" "),o("div",{staticClass:"font_12 text_right"},[t._v("\n              共"+t._s(s.num)+"件商品,合计:\n              "),o("span",{staticClass:"font_14",staticStyle:{color:"#c10804"}},[t._v("¥"+t._s(s.totalmoney))])]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b"},[t._v("\n              订单编号:"+t._s(s.orderid)+"\n            ")]),t._v(" "),o("div",{staticClass:"text_right font_12"},[o("button",{staticClass:"seeOrder",on:{click:function(o){t.toOrderInfo(s)}}},[t._v("查看订单")]),t._v(" "),o("button",{staticClass:"seeOrder",on:{click:function(o){t.toComment(s)}}},[t._v("    评价    ")])])],1):t._e()})),t._v(" "),o("van-tab",{attrs:{title:"全部订单"}},t._l(t.orderList,function(s,a){return t.orderList?o("div",{key:a,staticClass:"background_color_ffffff",staticStyle:{"box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)",margin:"10px",padding:"10px","border-radius":"5px"}},[o("div",[o("img",{staticStyle:{"vertical-align":"sub",height:"20px"},attrs:{src:s.shop.shoplogo}}),t._v(" "),o("span",{staticClass:"font_14"},[t._v(t._s(s.shop.shopname))])]),t._v(" "),o("van-card",{staticStyle:{"margin-top":"0"}},[o("div",{attrs:{slot:"thumb"},slot:"thumb"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goods.goodslogo.split(",")[0],expression:"item.goods.goodslogo.split(',')[0]"}],staticStyle:{display:"block",height:"63px"},attrs:{src:s.goods.goodslogo.split(",")[0],width:"100%"}})]),t._v(" "),o("div",{staticClass:"font_12 padding_bottom_5",attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.goodsname)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b padding_bottom_5",staticStyle:{height:"18px",overflow:"auto"},attrs:{slot:"tags"},slot:"tags"},[t._v("\n                "+t._s(s.goods.introduce)+"\n              ")]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b",staticStyle:{"padding-top":"12px"},attrs:{slot:"tags"},slot:"tags"},[o("span",[t._v("￥"+t._s(s.goods.price))])])]),t._v(" "),o("div",{staticClass:"font_12 text_right"},[t._v("\n              共"+t._s(s.num)+"件商品,合计:\n              "),o("span",{staticClass:"font_14",staticStyle:{color:"#c10804"}},[t._v("¥"+t._s(s.totalmoney))])]),t._v(" "),o("div",{staticClass:"font_12 color_8b8b8b"},[t._v("\n              订单编号:"+t._s(s.orderid)+"\n            ")]),t._v(" "),o("div",{staticClass:"text_right font_12"},[1==s.status?o("button",{staticClass:"seeOrder",on:{click:function(o){t.returnOrder(s,a)}}},[t._v("我要退款")]):t._e(),t._v(" "),5==s.status&&0==s.returntype?o("button",{staticClass:"seeOrder"},[t._v("退款审核中")]):t._e(),t._v(" "),5==s.status&&1==s.returntype?o("button",{staticClass:"seeOrder"},[t._v("退款成功")]):t._e(),t._v(" "),5==s.status&&2==s.returntype?o("button",{staticClass:"seeOrder"},[t._v("退款拒绝")]):t._e(),t._v(" "),o("button",{staticClass:"seeOrder",on:{click:function(o){t.toOrderInfo(s)}}},[t._v("查看订单")])])],1):t._e()}))],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"header"},[s("div",{staticClass:"van-hairline--bottom van-nav-bar"},[s("div",{staticClass:"van-ellipsis van-nav-bar__title"},[this._v("订单")])])])}]};var e=o("VU/8")(a,i,!1,function(t){o("myoF")},null,null);s.default=e.exports},myoF:function(t,s){}});
//# sourceMappingURL=9.bdc41efd55b438d443a9.js.map