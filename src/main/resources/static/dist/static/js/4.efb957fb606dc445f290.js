webpackJsonp([4],{"eGm/":function(t,a){},mA1a:function(t,a){},"s/mk":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o={name:"orderCheck",data:function(){return{show:!1,show1:!1,show2:!1,actions1:[{name:"微信",id:"1"},{name:"支付宝",id:"2"}],address:[],actions:[],orderInfo:[],orderId:"",userId:localStorage.getItem("userId")}},mounted:function(){this.orderId=this.$store.state.orderCheck.orderid,this.getOrderInfo(),this.getAddress()},methods:{tel:function(t){dsBridge.call("dialingTel",t)},checkAddress:function(){this.show2||(this.$toast({message:"请先添加地址!",position:"bottom"}),this.$router.push("addAddress"))},orderSubmit:function(){this.show2?this.show1=!0:(this.$toast({message:"请先添加地址!",position:"bottom"}),this.$router.push("addAddress"))},onSelect1:function(t){this.show1=!1,this.pay(t.id)},pay:function(t){var a=void 0;a=1==t?"weixin":"alipay";var o=this,e={addressid:this.address.addressid,orderid:this.orderId,paytype:a},i=s("mw3O");o.$ajax.post("order/payorder",i.stringify(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){"200"==t.data.meta.code&&("alipay"==a?(dsBridge.call("zfb_pay",t.data.data),dsBridge.register("alipayMsg",function(t){"1"==t&&(o.$toast({message:"付款成功!",position:"bottom"}),o.$router.back(-1))})):(dsBridge.call("wx_pay",t.data.data),dsBridge.register("wx_msg",function(t){"1"==t&&(o.$toast({message:"付款成功!",position:"bottom"}),o.$router.back(-1))})))}).catch(function(t){})},payMsg:function(){var t=this;t.$ajax.post("order/getOrderinfo",qs.stringify({userid:t.userId,orderid:t.orderId}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){"200"==a.data.meta.code&&("0"!=a.data.data.status?(t.$toast({message:"付款成功!",position:"bottom"}),t.$router.back(-1)):t.$toast({message:"付款失败!",position:"bottom"}))}).catch(function(t){})},getAddress:function(){var t=this,a={userid:this.userId},o=s("mw3O");t.$ajax.post("address/getaddressList",o.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){if("200"==a.data.meta.code&&a.data.data.length>0){t.show2=!0;for(var s=0;s<a.data.data.length;s++)a.data.data[s].id=a.data.data[s].username,a.data.data[s].name=a.data.data[s].area+a.data.data[s].detailaddress;t.actions=a.data.data,t.address=a.data.data[0]}}).catch(function(t){})},getOrderInfo:function(){var t=this,a={userid:t.userId,orderid:t.orderId},o=s("mw3O");t.$ajax.post("order/getOrderinfo",o.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){"200"==a.data.meta.code&&(t.orderInfo=a.data.data)}).catch(function(t){})},onSelect:function(t){this.show=!1,this.address=t}}},e={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"orderCheck"}},[s("div",{staticClass:"header"},[s("div",{staticClass:"van-hairline--bottom van-nav-bar"},[s("div",{staticClass:"van-nav-bar__left"},[s("i",{staticClass:"van-icon van-icon-arrow van-nav-bar__arrow",staticStyle:{color:"#000000 !important"},on:{click:function(a){t.$router.back(-1)}}})]),t._v(" "),s("div",{staticClass:"van-ellipsis van-nav-bar__title"},[t._v("订单详情")]),t._v(" "),s("div",{staticClass:"van-nav-bar__right"},[s("a",{on:{click:function(a){t.tel(t.orderInfo.shop.tel)}}},[s("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:"static/img/icon_kf_dfhxq@2x.png",width:"20px"}})])])])]),t._v(" "),s("div",{staticClass:"login_box"},[s("div",{staticClass:"background_color_ffffff",staticStyle:{margin:"5px 0",padding:"10px"},on:{click:t.checkAddress}},[t._m(0),t._v(" "),s("div",{staticClass:"font_12",staticStyle:{display:"inline-block"}},[s("span",[t._v(t._s(t.address.username)),s("span",{staticClass:"color_8b8b8b"},[t._v("    "+t._s(t.address.telephone))])]),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"color_8b8b8b"},[t._v(t._s(t.address.area)+" "+t._s(t.address.detailaddress))])])]),t._v(" "),s("div",{staticClass:"background_color_ffffff",staticStyle:{margin:"5px 0"}},[s("div",{staticClass:"background_color_ffffff",staticStyle:{padding:"10px"}},[s("div",[s("img",{staticStyle:{"vertical-align":"bottom",height:"16px"},attrs:{src:t.orderInfo.shop.shoplogo}}),t._v(" "),s("span",{staticClass:"font_14"},[t._v(t._s(t.orderInfo.shop.shopname))]),t._v(" "),s("span",{staticClass:"float_right font_12 color_8b8b8b",staticStyle:{"margin-top":"1px"}},[t._v("订单编号:"+t._s(t.orderInfo.orderid))])]),t._v(" "),s("van-card",{staticStyle:{"margin-top":"0"}},[s("div",{attrs:{slot:"thumb"},slot:"thumb"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.orderInfo.goods.goodslogo.split(",")[0],expression:"orderInfo.goods.goodslogo.split(',')[0]"}],staticStyle:{display:"block",height:"63px"},attrs:{src:t.orderInfo.goods.goodslogo.split(",")[0],width:"100%"}})]),t._v(" "),s("div",{staticClass:"font_12 padding_bottom_5",attrs:{slot:"tags"},slot:"tags"},[t._v("\n            "+t._s(t.orderInfo.goods.goodsname)+"\n          ")]),t._v(" "),s("div",{staticClass:"font_12 color_8b8b8b padding_bottom_5",staticStyle:{height:"42px",overflow:"auto"},attrs:{slot:"tags"},slot:"tags"},[t._v("\n            "+t._s(t.orderInfo.goods.introduce)+"\n          ")])]),t._v(" "),s("div",{staticClass:"font_12",staticStyle:{padding:"5px 0"}},[s("span",[t._v("付款时间")]),t._v(" "),s("span",{staticClass:"float_right"},[t._v(t._s(t.orderInfo.paytime))])]),t._v(" "),s("div",{staticClass:"font_12 text_right",staticStyle:{padding:"5px 0"}},[t._v("\n          共"+t._s(t.orderInfo.goods.num)+"件商品,合计"),s("span",{staticClass:"color_ff3312"},[t._v("¥"+t._s(t.orderInfo.totalmoney))])]),t._v(" "),s("div",{staticClass:"text_right",staticStyle:{padding:"5px 0"}},[s("button",{staticClass:"font_12 color_40a3f3 comment",on:{click:t.orderSubmit}},[t._v("立即付款")])])],1)])]),t._v(" "),s("van-actionsheet",{attrs:{actions:t.actions},on:{select:t.onSelect},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}}),t._v(" "),s("van-actionsheet",{attrs:{actions:t.actions1},on:{select:t.onSelect1},model:{value:t.show1,callback:function(a){t.show1=a},expression:"show1"}})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticStyle:{display:"inline-block"}},[a("img",{staticStyle:{"margin-right":"10px"},attrs:{src:"static/img/icon_sjr_dfxxq@2x.png",width:"16px"}})])}]};var i=s("VU/8")(o,e,!1,function(t){s("eGm/"),s("mA1a")},"data-v-7649c9c6",null);a.default=i.exports}});
//# sourceMappingURL=4.efb957fb606dc445f290.js.map