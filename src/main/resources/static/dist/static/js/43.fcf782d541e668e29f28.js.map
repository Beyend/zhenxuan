{"version":3,"sources":["webpack:///src/components/addService.vue","webpack:///./src/components/addService.vue?c45d","webpack:///./src/components/addService.vue"],"names":["addService","name","data","userId","localStorage","getItem","title","content","uname","tell","type","sameimg","imgList","methods","choice","index","_this","this","$dialog","confirm","message","confirmButtonText","cancelButtonText","then","newImgList","i","length","push","catch","changeImg","dataMap","$this","dsBridge","call","register","rpdata","imgList1","uploadImg","$toast","position","split","join","obj","userid","qs","__webpack_require__","$ajax","post","stringify","headers","Content-Type","meta","code","$router","back","msg","err","components_addService","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","staticStyle","color","on","click","$event","_v","src","directives","rawName","value","expression","placeholder","domProps","input","target","composing","width","height","_l","item","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/43.fcf782d541e668e29f28.js","sourcesContent":["<template>\n\t<div id=\"addService\">\n    <div class=\"header\">\n      <div class=\"van-hairline--bottom van-nav-bar\">\n        <div class=\"van-nav-bar__left\">\n          <i class=\"van-icon van-icon-arrow van-nav-bar__arrow\" style=\"color: #000000 !important;\" @click=\"$router.back(-1)\"></i>\n        </div>\n        <div class=\"van-ellipsis van-nav-bar__title\">添加维修</div>\n        <div class=\"van-nav-bar__right\" @click=\"addService\">\n          发布\n        </div>\n      </div>\n    </div>\n    <div class=\"login_box\">\n      <div class=\"login_bar background_color_ffffff login_bottom text-img-center\">\n        <img src=\"static/img/icon_xm_tjps11.png\" class=\"width_5\"/>\n        <input class=\"font_14 login_input\" type=\"text\" placeholder=\"姓名\" v-model=\"uname\"/>\n      </div>\n      <div class=\"login_bar background_color_ffffff text-img-center\">\n        <img src=\"static/img/icon_shouji--mf11.png\" class=\"width_5\"/>\n        <input class=\"font_14 login_input\" type=\"tel\" placeholder=\"联系方式\" v-model=\"tell\"/>\n      </div>\n      <div class=\"login_bar background_color_ffffff login_top\">\n        <span class=\"img_top_center width_5\">标题</span>\n        <input class=\"font_14 login_input\" type=\"text\" placeholder=\"请输入标题\" v-model=\"title\"/>\n      </div>\n      <div class=\"login_bar background_color_ffffff login_top\">\n        <textarea class=\"font_14 login_input1\" type=\"text\" style=\"width: 100%;height: 54px\" placeholder=\"请输入详细描述\" v-model=\"content\"/>\n      </div>\n      <div class=\"login_bar background_color_ffffff login_top\">\n        <img :src=\"item\" class=\"img_service\" v-for=\"(item,index) in imgList\" @click=\"choice(index)\"/>\n        <img src=\"static/img/icon_tjtp_tjps.png\" class=\"img_service\" @click=\"uploadImg\"/>\n      </div>\n    </div>\n\t</div>\n</template>\n<script>\n\texport default {\n\t\tname: 'addService',\n\t\tdata() {\n\t\t\treturn {\n        userId:localStorage.getItem('userId'),\n        title:'',\n        content:'',\n        uname:'',\n        tell:'',\n        type:1,\n        sameimg:'',\n        imgList:[],\n\t\t\t}\n\t\t},\n\t\tmethods:{\n      choice(index){\n        this.$dialog.confirm({\n          message: '请选择切换或删除该张图片',\n          confirmButtonText:'删除',\n          cancelButtonText:'切换'\n        }).then(() => {\n          let newImgList = [];\n          for(let i=0;i<this.imgList.length;i++){\n            if(i!=index){\n              newImgList.push(this.imgList[i]);\n            }\n          }\n          this.imgList = newImgList;\n        }).catch(() => {\n          this.changeImg(index)\n        });\n      },\n      changeImg(dataMap){\n        let $this = this;\n        dsBridge.call('uploadImg');\n        dsBridge.register('addImgCallback', function(rpdata) {\n          let imgList1 = [];\n          for(let i =0;i<$this.imgList.length;i++){\n             if(i==dataMap){\n               imgList1.push(rpdata)\n             }else{\n               imgList1.push($this.imgList[i])\n             }\n          }\n          $this.imgList = imgList1;\n        })\n      },\n      uploadImg(){\n        let $this = this;\n        if(this.imgList.length==6){\n          $this.$toast({\n            message: '最多可以上传6张图片!',\n            position: \"bottom\"\n          });\n        }else if(this.imgList.length<6){\n          dsBridge.call('uploadImg');\n          dsBridge.register('addImgCallback', function(rpdata) {\n            // $this.imgList.push(rpdata);\n            if((rpdata.split(',').length+$this.imgList.length)>6){\n              $this.$toast({\n                message: '最多可以上传6张图片!',\n                position: \"bottom\"\n              });\n            }else{\n              for(let i=0;i<rpdata.split(',').length;i++){\n                $this.imgList.push(rpdata.split(',')[i]);\n              }\n            }\n          })\n        }\n      },\n      addService(){\n        this.sameimg = this.imgList.join(',');\n        let $this = this;\n        let obj = {\n          userid: $this.userId,\n          title: $this.title,\n          content: $this.content,\n          uname: $this.uname,\n          tell: $this.tell,\n          type: $this.type,\n          sameimg: $this.sameimg,\n        };\n        let qs = require('qs');\n        $this.$ajax.post(\"samecity/addsamecity\", qs.stringify(obj), {\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          }\n        })\n        .then(function(rpdata) {\n          if(rpdata.data.meta.code=='200'){\n            $this.$toast({\n              message: '发布成功!',\n              position: \"bottom\"\n            });\n            $this.$router.back(-1)\n          }else{\n            $this.$toast({\n              message: rpdata.data.meta.msg,\n              position: \"bottom\"\n            });\n          }\n        })\n        .catch(function(err) {})\n      },\n\t\t}\n\t}\n</script>\n<style scoped>\n  .img_service{\n    width: 32.3%;\n    padding: 1px;\n  }\n  .login_bottom{\n    border-bottom: 1px solid #eeeeee;\n  }\n  .login_input1{\n    margin-left: 0%;\n    border: 0;\n  }\n  .login_input{\n    margin-left: 8%;\n    border: 0;\n  }\n  .width_5{\n    width: 5%;\n  }\n  .login_top{\n    border-top: 5px solid #eeeeee;\n  }\n  .login_bar{\n    padding: 15px 15px;\n  }\n  .login_box{\n    margin-top: 50px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/addService.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"addService\"}},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"van-hairline--bottom van-nav-bar\"},[_c('div',{staticClass:\"van-nav-bar__left\"},[_c('i',{staticClass:\"van-icon van-icon-arrow van-nav-bar__arrow\",staticStyle:{\"color\":\"#000000 !important\"},on:{\"click\":function($event){_vm.$router.back(-1)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"van-ellipsis van-nav-bar__title\"},[_vm._v(\"添加维修\")]),_vm._v(\" \"),_c('div',{staticClass:\"van-nav-bar__right\",on:{\"click\":_vm.addService}},[_vm._v(\"\\n          发布\\n        \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"login_box\"},[_c('div',{staticClass:\"login_bar background_color_ffffff login_bottom text-img-center\"},[_c('img',{staticClass:\"width_5\",attrs:{\"src\":\"static/img/icon_xm_tjps11.png\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.uname),expression:\"uname\"}],staticClass:\"font_14 login_input\",attrs:{\"type\":\"text\",\"placeholder\":\"姓名\"},domProps:{\"value\":(_vm.uname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.uname=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"login_bar background_color_ffffff text-img-center\"},[_c('img',{staticClass:\"width_5\",attrs:{\"src\":\"static/img/icon_shouji--mf11.png\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tell),expression:\"tell\"}],staticClass:\"font_14 login_input\",attrs:{\"type\":\"tel\",\"placeholder\":\"联系方式\"},domProps:{\"value\":(_vm.tell)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tell=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"login_bar background_color_ffffff login_top\"},[_c('span',{staticClass:\"img_top_center width_5\"},[_vm._v(\"标题\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"font_14 login_input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入标题\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"login_bar background_color_ffffff login_top\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"font_14 login_input1\",staticStyle:{\"width\":\"100%\",\"height\":\"54px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入详细描述\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"login_bar background_color_ffffff login_top\"},[_vm._l((_vm.imgList),function(item,index){return _c('img',{staticClass:\"img_service\",attrs:{\"src\":item},on:{\"click\":function($event){_vm.choice(index)}}})}),_vm._v(\" \"),_c('img',{staticClass:\"img_service\",attrs:{\"src\":\"static/img/icon_tjtp_tjps.png\"},on:{\"click\":_vm.uploadImg}})],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c29e258\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/addService.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c29e258\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addService.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./addService.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./addService.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c29e258\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./addService.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c29e258\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/addService.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}