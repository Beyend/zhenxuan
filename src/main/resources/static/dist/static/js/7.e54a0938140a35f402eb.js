webpackJsonp([7],{"XD0+":function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s={name:"forgetPwd",data:function(){return{phone:"",phoneIn:"",code:"",codeIn:"",pwd:"",count:"",timer:null,show:!0}},methods:{getCodeIn:function(){var t=this;this.timer||(this.count=60,this.show=!1,this.timer=setInterval(function(){t.count>0&&t.count<=60?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)},1e3))},getCode:function(){var t=this,o={phone:t.phone},s=e("mw3O");t.$ajax.post("user/sendCode",s.stringify(o),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(o){"200"==o.data.meta.code?(t.getCodeIn(),t.codeIn=o.data.data,t.phoneIn=t.phone):t.$toast({message:o.data.meta.msg,position:"bottom"})}).catch(function(t){})},testPhone:function(){this.phone&&this.valiPhone(this.phone)?this.getCode():this.$toast({message:"请输入正确的手机号",position:"bottom"})},checkRegister:function(){this.phoneIn==this.phone?this.codeIn==this.code?this.pwd?this.forgetPwd():this.$toast({message:"密码不可为空",position:"bottom"}):this.$toast({message:"验证码错误",position:"bottom"}):this.$toast({message:"该手机号未发送验证码",position:"bottom"})},forgetPwd:function(){var t=this,o={phone:t.phone,newPwd:t.pwd},s=e("mw3O");t.$ajax.post("user/forgetPwd",s.stringify(o),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(o){"200"==o.data.meta.code?(t.$toast({message:"重置密码成功!",position:"bottom"}),t.$router.back(-1)):t.$toast({message:o.data.meta.msg,position:"bottom"})}).catch(function(t){})}}},n={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"forgetPwd"}},[e("div",{staticClass:"header"},[e("div",{staticClass:"van-hairline--bottom van-nav-bar"},[e("div",{staticClass:"van-nav-bar__left"},[e("i",{staticClass:"van-icon van-icon-arrow van-nav-bar__arrow",staticStyle:{color:"#000000 !important"},on:{click:function(o){t.$router.back(-1)}}})]),t._v(" "),e("div",{staticClass:"van-ellipsis van-nav-bar__title"},[t._v("忘记密码")])])]),t._v(" "),e("div",{staticClass:"login_box"},[e("div",{staticClass:"login_bar background_color_ffffff"},[e("img",{staticClass:"img_top_center width_5",attrs:{src:"static/img/icon_shouji_zc.png"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"font_14 login_input",attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:t.phone},on:{input:function(o){o.target.composing||(t.phone=o.target.value)}}})]),t._v(" "),e("div",{staticClass:"login_bar background_color_ffffff login_top"},[e("img",{staticClass:"img_top_center width_5",attrs:{src:"static/img/icon_yanzhengma_zc.png"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"font_14 login_input",attrs:{type:"password",placeholder:"请输入验证码"},domProps:{value:t.code},on:{input:function(o){o.target.composing||(t.code=o.target.value)}}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"font_12 float_right send_code",on:{click:t.testPhone}},[t._v("获取验证码")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"font_12 float_right send_code"},[t._v(t._s(t.count)+"s")])]),t._v(" "),e("div",{staticClass:"login_bar background_color_ffffff login_top"},[e("img",{staticClass:"img_top_center width_5",attrs:{src:"static/img/icon_mima_zc.png"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],staticClass:"font_14 login_input",attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:t.pwd},on:{input:function(o){o.target.composing||(t.pwd=o.target.value)}}})]),t._v(" "),e("div",{staticClass:"text_center",staticStyle:{"margin-top":"30px"}},[e("button",{staticClass:"login_button",on:{click:t.checkRegister}},[t._v("确定")])])])])},staticRenderFns:[]};var a=e("VU/8")(s,n,!1,function(t){e("dKd8")},"data-v-edb640ac",null);o.default=a.exports},dKd8:function(t,o){}});
//# sourceMappingURL=7.e54a0938140a35f402eb.js.map