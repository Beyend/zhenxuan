webpackJsonp([19],{GKEq:function(t,s){},OAKF:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o={name:"seller",data:function(){return{seller:[],sellerInfo:[],value:2,goodsList:[],show:!0,userId:localStorage.getItem("userId"),loading:!1,finished:!1,pageNum:1}},mounted:function(){this.seller=this.$store.state.sellerInfo,"Y"==this.seller.isfollow&&(this.show=!1),console.log(this.seller),this.getSellerInfo(),this.getSeller()},methods:{tel:function(t){dsBridge.call("dialingTel",t)},toChat:function(){var t={shopid:this.sellerInfo.shopid,shoplogo:this.sellerInfo.shoplogo,shopname:this.sellerInfo.shopname};this.$router.push({path:"chat",query:{data:t}})},getSeller:function(){var t=this,s=e("mw3O"),o={shopid:this.seller.shopid,userid:this.userId};t.$ajax.post("shop/getshopinfo",s.stringify(o),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(s){"200"==s.data.meta.code&&(t.seller=s.data.data,"Y"==t.seller.isfollow&&(t.show=!1))}).catch(function(t){})},removeShop:function(){var t=this,s=e("mw3O"),o={shopid:this.seller.shopid,userid:this.userId};t.$ajax.post("follow/canclefollow",s.stringify(o),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(s){"200"==s.data.meta.code?(t.$toast({message:"取消关注成功!",position:"bottom"}),t.show=!0):t.$toast({message:s.data.meta.msg,position:"bottom"})}).catch(function(t){})},colShop:function(){var t=this,s=e("mw3O"),o={shopid:this.seller.shopid,userid:this.userId};t.$ajax.post("follow/addfollow",s.stringify(o),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(s){"200"==s.data.meta.code?(t.$toast({message:"关注店铺成功!",position:"bottom"}),t.show=!1):t.$toast({message:s.data.meta.msg,position:"bottom"})}).catch(function(t){})},toSearchSeller:function(){this.$router.push("searchSeller")},toGoods:function(t){1==t.type?(this.$store.commit("setGoodsInfo",t),this.$router.push("goods")):(this.$store.commit("setGoodsInfo",t),this.$router.push("goodsKill"))},getSellerInfo:function(){this.loading=!0;var t=this,s=e("mw3O"),o={shopid:this.seller.shopid,userid:this.userId,pageNum:this.pageNum};t.$ajax.post("goods/getgoodslist",s.stringify(o),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(s){"200"==s.data.meta.code&&(s.data.data.data.length>0?(t.sellerInfo=t.sellerInfo.concat(s.data.data.data),t.pageNum++,t.loading=!1):0==s.data.data.data.length&&(t.finished=!0,t.loading=!1))}).catch(function(t){})},copeText:function(){dsBridge.call("shareUrl","https://www.pgyer.com/DRwB")}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"seller"}},[e("div",{staticClass:"my-bar"},[e("div",{staticClass:"my-bar-left"},[e("div",{staticClass:"arrow-left-con"},[e("van-icon",{attrs:{name:"arrow-left"},nativeOn:{click:function(s){t.$router.go("-1")}}})],1)])]),t._v(" "),e("div",{staticClass:"my-bar",staticStyle:{right:"60px"}},[e("div",{staticClass:"my-bar-left"},[e("img",{attrs:{src:"static/img/icon_ss_sjzy.png",width:"22px"},on:{click:t.toSearchSeller}})])]),t._v(" "),e("div",{staticClass:"my-bar",staticStyle:{right:"10px"}},[e("div",{staticClass:"my-bar-left"},[e("img",{attrs:{src:"static/img/icon_fx_sjzy.png",width:"22px"},on:{click:t.copeText}})])]),t._v(" "),e("van-swipe",{staticClass:"goods-swipe",attrs:{autoplay:3e3}},[e("van-swipe-item",[e("img",{attrs:{src:t.seller.shoplogo,width:"100%",height:"240px"}})])],1),t._v(" "),e("div",{staticClass:"background_color_ffffff shopHead"},[e("a",{on:{click:function(s){t.tel(t.seller.tel)}}},[e("img",{staticStyle:{"margin-right":"20px"},attrs:{src:"static/img/icon_1111.png",width:"30px"}})]),t._v(" "),e("div",{staticStyle:{display:"inline-block"},on:{click:t.toChat}},[e("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.seller.shoplogo,width:"50px"}})]),t._v(" "),e("div",{staticStyle:{display:"inline-block","margin-left":"10px"}},[e("div",{staticClass:"font_weight_bold"},[t._v(t._s(t.seller.shopname))]),t._v(" "),e("van-rate",{model:{value:t.value,callback:function(s){t.value=s},expression:"value"}})],1),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticStyle:{position:"absolute",right:"10px"},attrs:{src:"static/img/icon_ygz_sjzy.png",width:"30px"},on:{click:t.colShop}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticStyle:{position:"absolute",right:"10px"},attrs:{src:"static/img/icon_sc_sjzy.png",width:"30px"},on:{click:t.removeShop}})]),t._v(" "),e("van-list",{attrs:{finished:t.finished},on:{load:t.getSellerInfo},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.sellerInfo,function(s,o){return e("van-card",{key:o,staticStyle:{margin:"10px","border-radius":"5px"},nativeOn:{click:function(e){t.toGoods(s)}}},[e("div",{attrs:{slot:"thumb"},slot:"thumb"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goodslogo.split(",")[0],expression:"item.goodslogo.split(',')[0]"}],staticStyle:{display:"block","border-radius":"3px"},attrs:{src:s.goodslogo.split(",")[0],width:"100%"}})]),t._v(" "),e("div",{staticClass:"font_weight_bold padding_bottom_5",attrs:{slot:"tags"},slot:"tags"},[t._v("\n          "+t._s(s.goodsname)+"\n        ")]),t._v(" "),e("div",{staticClass:"font_12 color_8b8b8b",staticStyle:{"max-height":"44px",height:"44px"},attrs:{slot:"tags"},slot:"tags"},[e("span",{staticStyle:{height:"36px",overflow:"hidden","text-overflow":"ellipsis",width:"100%","line-height":"14px",display:"block"}},[t._v(t._s(s.introduce))])]),t._v(" "),e("div",{staticClass:"font_12",staticStyle:{"padding-top":"10px"},attrs:{slot:"tags"},slot:"tags"},[1==s.type?e("span",{staticClass:"color_c10804"},[t._v("¥"+t._s(s.price))]):t._e(),t._v(" "),2==s.type?e("span",{staticClass:"color_c10804"},[t._v("¥"+t._s(s.spike))]):t._e(),t._v(" "),e("span",{staticClass:"float_right color_8b8b8b"},[t._v("剩余    "+t._s(s.num))])])])}))],1)},staticRenderFns:[]};var a=e("VU/8")(o,i,!1,function(t){e("GKEq")},"data-v-98e22b3a",null);s.default=a.exports}});
//# sourceMappingURL=19.eaf291630fbb2f670e40.js.map