webpackJsonp([55],{"23Sw":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"addRental",data:function(){return{userId:localStorage.getItem("userId"),uname:"",tell:"",metre:"",price:"",address:"",title:"",content:"",type:3,sameimg:"",imgList:[],louceng:[],zhuangxiu:"豪装",chaoxiang:"东",area:"市区",huxing:["0","0","0","0","0"],label:[{checked:!1,name:"WIFI"},{checked:!1,name:"冰箱"},{checked:!1,name:"空调"},{checked:!1,name:"洗衣机"},{checked:!1,name:"床"},{checked:!1,name:"沙发"},{checked:!1,name:"衣柜"},{checked:!1,name:"桌椅"},{checked:!1,name:"电视"},{checked:!1,name:"暖气"},{checked:!1,name:"热水器"},{checked:!1,name:"天然气"},{checked:!1,name:"抽油烟机"},{checked:!1,name:"可做饭"},{checked:!1,name:"微波炉"},{checked:!1,name:"电磁炉"},{checked:!1,name:"燃气灶"}],paytype:"押一付三",checked1:!1,checked2:!1,cheku:"",chucang:""}},methods:{checkSubmit:function(){this.uname&&this.tell&&this.metre&&this.price&&this.address&&this.title&&this.content&&this.louceng[0]&&this.louceng[1]?this.checked1&&!this.cheku||!this.checked1&&this.cheku?this.$toast({message:"请填写车库面积并勾选!",position:"bottom"}):this.checked2&&!this.chucang||!this.checked2&&this.chucang?this.$toast({message:"请填写储藏室面积并勾选!",position:"bottom"}):this.imgList.length<1?this.$toast({message:"至少上传1张图片!",position:"bottom"}):this.addRental():this.$toast({message:"请将内容填写完整!",position:"bottom"})},changeCheck:function(t){this.label[t].checked=!this.label[t].checked},choice:function(t){var e=this;this.$dialog.confirm({message:"请选择切换或删除该张图片",confirmButtonText:"删除",cancelButtonText:"切换"}).then(function(){for(var i=[],a=0;a<e.imgList.length;a++)a!=t&&i.push(e.imgList[a]);e.imgList=i}).catch(function(){e.changeImg(t)})},changeImg:function(t){var e=this;dsBridge.call("uploadImg"),dsBridge.register("addImgCallback",function(i){if(i.split(",").length>1)e.$toast({message:"请上传一张图片",position:"bottom"});else{for(var a=[],o=0;o<e.imgList.length;o++)o==t?a.push(i):a.push(e.imgList[o]);e.imgList=a}})},uploadImg:function(){var t=this;9==this.imgList.length?t.$toast({message:"最多可以上传9张图片!",position:"bottom"}):this.imgList.length<9&&(dsBridge.call("uploadImg"),dsBridge.register("addImgCallback",function(e){if(e.split(",").length+t.imgList.length>9)t.$toast({message:"最多可以上传9张图片!",position:"bottom"});else for(var i=0;i<e.split(",").length;i++)t.imgList.push(e.split(",")[i])}))},addRental:function(){for(var t=[],e=0;e<this.label.length;e++)this.label[e].checked&&t.push(this.label[e].name);this.sameimg=this.imgList.join(",");var a=this,o={userid:a.userId,uname:a.uname,tell:a.tell,metre:a.metre,price:a.price,address:a.address,title:a.title,type:a.type,content:a.content,sameimg:a.sameimg,louceng:a.louceng.join("/"),zhuangxiu:a.zhuangxiu,chaoxiang:a.chaoxiang,area:a.area,huxing:a.huxing.join(","),label:t.join(","),paytype:a.paytype,cheku:a.cheku,chucang:a.chucang},n=i("mw3O");a.$ajax.post("samecity/addsamecity",n.stringify(o),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){"200"==t.data.meta.code?(a.$toast({message:"发布成功!",position:"bottom"}),a.$router.back(-1)):a.$toast({message:t.data.meta.msg,position:"bottom"})}).catch(function(t){})}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"addRental"}},[i("div",{staticClass:"header"},[i("div",{staticClass:"van-hairline--bottom van-nav-bar"},[i("div",{staticClass:"van-nav-bar__left"},[i("i",{staticClass:"van-icon van-icon-arrow van-nav-bar__arrow",staticStyle:{color:"#000000 !important"},on:{click:function(e){t.$router.back(-1)}}})]),t._v(" "),i("div",{staticClass:"van-ellipsis van-nav-bar__title"},[t._v("添加出租房")]),t._v(" "),i("div",{staticClass:"van-nav-bar__right",on:{click:t.checkSubmit}},[t._v("\n          发布\n        ")])])]),t._v(" "),i("div",{staticClass:"login_box"},[i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("img",{staticClass:"img_top_center width_5",attrs:{src:"static/img/icon_xm_tjps11.png"}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.uname,expression:"uname"}],staticClass:"font_14 login_input",attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.uname},on:{input:function(e){e.target.composing||(t.uname=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("img",{staticClass:"img_top_center width_5",attrs:{src:"static/img/icon_shouji--mf11.png"}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.tell,expression:"tell"}],staticClass:"font_14 login_input",attrs:{type:"text",placeholder:"联系方式"},domProps:{value:t.tell},on:{input:function(e){e.target.composing||(t.tell=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff"},[i("img",{staticClass:"img_top_center width_5",attrs:{src:"static/img/icon_dizhi.png"}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"font_14 login_input",attrs:{type:"text",placeholder:"详细地址"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_top login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("楼盘名称")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"font_14 login_input",attrs:{type:"text",placeholder:"请输入楼盘名称"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("面积")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.metre,expression:"metre"}],staticClass:"font_14 login_input",staticStyle:{width:"40%"},attrs:{type:"text",placeholder:"请输入房屋面积"},domProps:{value:t.metre},on:{input:function(e){e.target.composing||(t.metre=e.target.value)}}}),t._v(" "),i("span",{staticClass:"float_right"},[t._v("㎡")])]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("楼层")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.louceng[0],expression:"louceng[0]"}],staticClass:"font_14 login_input",staticStyle:{width:"20%"},attrs:{type:"text",placeholder:"所在层数"},domProps:{value:t.louceng[0]},on:{input:function(e){e.target.composing||t.$set(t.louceng,0,e.target.value)}}}),t._v(" "),i("span",{staticStyle:{color:"#000"}},[t._v("/")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.louceng[1],expression:"louceng[1]"}],staticClass:"font_14 login_input0",staticStyle:{width:"20%"},attrs:{type:"text",placeholder:"总层数"},domProps:{value:t.louceng[1]},on:{input:function(e){e.target.composing||t.$set(t.louceng,1,e.target.value)}}})]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_top login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{"padding-right":"10px"}},[t._v("户型")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.huxing[0],expression:"huxing[0]"}],staticClass:"font_14 select-bar1",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.huxing,0,e.target.multiple?i:i[0])}}},[i("option",[t._v("0")]),t._v(" "),i("option",[t._v("1")]),t._v(" "),i("option",[t._v("2")]),t._v(" "),i("option",[t._v("3")]),t._v(" "),i("option",[t._v("4")]),t._v(" "),i("option",[t._v("5")]),t._v(" "),i("option",[t._v("6")]),t._v(" "),i("option",[t._v("7")]),t._v(" "),i("option",[t._v("8")]),t._v(" "),i("option",[t._v("9")])]),t._v(" "),i("span",{staticClass:"font_12 color_8b8b8b"},[t._v("室")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.huxing[1],expression:"huxing[1]"}],staticClass:"font_14 select-bar1",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.huxing,1,e.target.multiple?i:i[0])}}},[i("option",[t._v("0")]),t._v(" "),i("option",[t._v("1")]),t._v(" "),i("option",[t._v("2")]),t._v(" "),i("option",[t._v("3")]),t._v(" "),i("option",[t._v("4")]),t._v(" "),i("option",[t._v("5")]),t._v(" "),i("option",[t._v("6")]),t._v(" "),i("option",[t._v("7")]),t._v(" "),i("option",[t._v("8")]),t._v(" "),i("option",[t._v("9")])]),t._v(" "),i("span",{staticClass:"font_12 color_8b8b8b"},[t._v("厅")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.huxing[2],expression:"huxing[2]"}],staticClass:"font_14 select-bar1",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.huxing,2,e.target.multiple?i:i[0])}}},[i("option",[t._v("0")]),t._v(" "),i("option",[t._v("1")]),t._v(" "),i("option",[t._v("2")]),t._v(" "),i("option",[t._v("3")]),t._v(" "),i("option",[t._v("4")]),t._v(" "),i("option",[t._v("5")]),t._v(" "),i("option",[t._v("6")]),t._v(" "),i("option",[t._v("7")]),t._v(" "),i("option",[t._v("8")]),t._v(" "),i("option",[t._v("9")])]),t._v(" "),i("span",{staticClass:"font_12 color_8b8b8b"},[t._v("卫")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.huxing[3],expression:"huxing[3]"}],staticClass:"font_14 select-bar1",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.huxing,3,e.target.multiple?i:i[0])}}},[i("option",[t._v("0")]),t._v(" "),i("option",[t._v("1")]),t._v(" "),i("option",[t._v("2")]),t._v(" "),i("option",[t._v("3")]),t._v(" "),i("option",[t._v("4")]),t._v(" "),i("option",[t._v("5")]),t._v(" "),i("option",[t._v("6")]),t._v(" "),i("option",[t._v("7")]),t._v(" "),i("option",[t._v("8")]),t._v(" "),i("option",[t._v("9")])]),t._v(" "),i("span",{staticClass:"font_12 color_8b8b8b"},[t._v("厨")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.huxing[4],expression:"huxing[4]"}],staticClass:"font_14 select-bar1",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.huxing,4,e.target.multiple?i:i[0])}}},[i("option",[t._v("0")]),t._v(" "),i("option",[t._v("1")]),t._v(" "),i("option",[t._v("2")]),t._v(" "),i("option",[t._v("3")]),t._v(" "),i("option",[t._v("4")]),t._v(" "),i("option",[t._v("5")]),t._v(" "),i("option",[t._v("6")]),t._v(" "),i("option",[t._v("7")]),t._v(" "),i("option",[t._v("8")]),t._v(" "),i("option",[t._v("9")])]),t._v(" "),i("span",{staticClass:"font_12 color_8b8b8b"},[t._v("阳台")])]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("车库")]),t._v(" "),i("span",{staticClass:"check_box",class:{selected:t.checked1},on:{click:function(e){t.checked1=!t.checked1}}}),t._v(" "),i("span",[t._v("有")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cheku,expression:"cheku"}],staticClass:"font_14 login_input",staticStyle:{width:"40%"},attrs:{type:"text",placeholder:"请输入车库面积"},domProps:{value:t.cheku},on:{input:function(e){e.target.composing||(t.cheku=e.target.value)}}}),t._v(" "),i("span",{staticClass:"float_right"},[t._v("㎡")])]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("储藏室")]),t._v(" "),i("span",{staticClass:"check_box",class:{selected:t.checked2},on:{click:function(e){t.checked2=!t.checked2}}}),t._v(" "),i("span",[t._v("有")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.chucang,expression:"chucang"}],staticClass:"font_14 login_input",staticStyle:{width:"40%"},attrs:{type:"text",placeholder:"请输入储藏室面积"},domProps:{value:t.chucang},on:{input:function(e){e.target.composing||(t.chucang=e.target.value)}}}),t._v(" "),i("span",{staticClass:"float_right"},[t._v("㎡")])]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_top login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("装修情况")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.zhuangxiu,expression:"zhuangxiu"}],staticClass:"font_14 select-bar",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.zhuangxiu=e.target.multiple?i:i[0]}}},[i("option",[t._v("豪装")]),t._v(" "),i("option",[t._v("精装")]),t._v(" "),i("option",[t._v("中装")]),t._v(" "),i("option",[t._v("简装")]),t._v(" "),i("option",[t._v("毛坯")])])]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("朝向")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.chaoxiang,expression:"chaoxiang"}],staticClass:"font_14 select-bar",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.chaoxiang=e.target.multiple?i:i[0]}}},[i("option",[t._v("东")]),t._v(" "),i("option",[t._v("南")]),t._v(" "),i("option",[t._v("西")]),t._v(" "),i("option",[t._v("北")])])]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("区域")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.area,expression:"area"}],staticClass:"font_14 select-bar",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.area=e.target.multiple?i:i[0]}}},[i("option",[t._v("市区")]),t._v(" "),i("option",[t._v("城东")]),t._v(" "),i("option",[t._v("城南")]),t._v(" "),i("option",[t._v("城西")]),t._v(" "),i("option",[t._v("城北")])])]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_top login_bottom"},[i("span",{staticClass:"font_14 login_bottom",staticStyle:{display:"block","padding-bottom":"15px"}},[t._v("点选房屋配置")]),t._v(" "),i("div",t._l(t.label,function(e,a){return i("div",{key:a,staticClass:"check-box-bar"},[i("span",{staticClass:"check_box",class:{selected:e.checked},on:{click:function(e){t.changeCheck(a)}}}),t._v(" "),i("span",[t._v(t._s(e.name))])])}))]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_top login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("付款方式")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.paytype,expression:"paytype"}],staticClass:"font_14 select-bar",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.paytype=e.target.multiple?i:i[0]}}},[i("option",[t._v("押一付三")]),t._v(" "),i("option",[t._v("季付")]),t._v(" "),i("option",[t._v("半年付")]),t._v(" "),i("option",[t._v("年付")])])]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("租金")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"font_14 login_input",staticStyle:{width:"40%"},attrs:{type:"text",placeholder:"请输入租金"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),t._v(" "),i("span",{staticClass:"float_right"},[t._v("元/月")])]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_bottom"},[i("span",{staticClass:"font_14",staticStyle:{display:"inline-block",width:"20%","padding-right":"10px"}},[t._v("房源介绍")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"font_14 login_input1",staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入房源介绍"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"login_bar background_color_ffffff login_top"},[t._l(t.imgList,function(e,a){return i("img",{staticClass:"img_service",attrs:{src:e},on:{click:function(e){t.choice(a)}}})}),t._v(" "),i("img",{staticClass:"img_service",attrs:{src:"static/img/icon_tjtp_tjps.png"},on:{click:t.uploadImg}})],2)])])},staticRenderFns:[]};var n=i("VU/8")(a,o,!1,function(t){i("fJ6o")},"data-v-291550ca",null);e.default=n.exports},fJ6o:function(t,e){}});
//# sourceMappingURL=55.7c257ba52b8aa9db3417.js.map